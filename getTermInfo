#!/bin/bash

outfile=/home/$USER/.config/WallFade/TermInfo
WID=$(wmctrl -l | grep -Eo [0-9]{1}x[0-9a-f]{8} | tail -1)

if [ $(echo $WID  | cut -c2-2) = "x" ]
then
	tty | grep -Eo '[0-9]{0,9}' >> $outfile
	echo $WID >> $outfile
	xwininfo -id $WID | grep -E 'Absolute upper-left X:  [0-9]{0,6}' | grep -Eo '[0-9]{0,6}' >> $outfile
	xwininfo -id $WID | grep -E 'Absolute upper-left Y:  [0-9]{0,6}' | grep -Eo '[0-9]{0,6}' >> $outfile
fi

$SHELL
